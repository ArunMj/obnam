#!/usr/bin/python
#
# Benchmark some obnamlib.VirtualFileSystem operations.


import optparse
import sys

import obnamlib


def parse_args():
    parser = optparse.OptionParser()
    
    parser.add_option("--num-files", type="int", metavar="N",
                      help="number of files to create")
    
    parser.add_option("--file-size", type="int", metavar="BYTES",
                      help="size of files to create")
    
    return parser.parse_args()

def benchmark_cat(options):
    pass
    

def benchmark_write(options):
    pass
    

def benchmark_overwrite(options):
    pass
    

def main():
    operations = {
        "cat": benchmark_cat,
        "write": benchmark_write,
        "overwrite": benchmark_overwrite,
    }

    options, args = parse_args()
    for op in args:
        if op in operations:
            operations[op](options)
        else:
            raise Exception("Unknown operation %s" % op)


if __name__ == "__main__":
    main()

